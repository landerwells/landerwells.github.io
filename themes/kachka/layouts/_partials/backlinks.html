{{ $currentTitle := .Title }}
{{ $backlinks := slice }}

{{ range .Site.AllPages }}
  {{ if ne . $ }}
    {{/* Check if link text contains the title */}}
    {{ $pattern := printf "[%s]" $currentTitle }}
    {{ if in .RawContent $pattern }}
      {{ $backlinks = $backlinks | append . }}
    {{ end }}
  {{ end }}
{{ end }}

{{ if gt (len $backlinks) 0 }}
  <div class="bl-section">
    <h4>Links to this note</h4>
    <div class="backlinks">
      <ul>
       {{ range $backlinks }}
          <li><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
       {{ end }}
     </ul>
    </div>
  </div>
{{ end }}

